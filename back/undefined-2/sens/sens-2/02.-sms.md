# 02. SMS 전송 테스트

> **1. 들어가기 전**&#x20;

* 네이버 클라우드 플랫폼에서 API 테스트 환경을 제공해준다.
* 테스트를 통해 API 사용 방법을 익히고 소스 작성 전 전반적인 흐름을 빠르게 파악할 수 있다.



> **2. API 테스트 사이트 접속**

*   [API Guide](https://api.ncloud-docs.com/docs/ko/home) 사이트로 접속한다.

    <figure><img src="../../../../.gitbook/assets/스크린샷 2023-07-21 오후 1.57.22.png" alt=""><figcaption></figcaption></figure>



*   'Application Services -> Simple & Easy Notification Service -> SMS API' 클릭 후\
    아래 링크로 들어간다.



    <figure><img src="../../../../.gitbook/assets/스크린샷 2023-07-21 오후 1.58.20 (1).png" alt=""><figcaption></figcaption></figure>



    <figure><img src="../../../../.gitbook/assets/스크린샷 2023-07-21 오후 2.03.11.png" alt=""><figcaption><p>SENS API 테스트 사이트 </p></figcaption></figure>



> **3. API 인증키 등록**

{% hint style="info" %}
API 테스트를 진행하기 전, 앞서 살펴본 **인증키**들을 등록해야 한다. ([01. 사전준비 참조](https://app.gitbook.com/o/q6D11IzK040l6FEcH24B/s/Y0RYPfXZv3onz6TL8qGR/\~/changes/13/back/undefined-2/sens/sens-2/01.))
{% endhint %}

*   Authorize를 눌러 인증키들을 등록한다. \


    <figure><img src="../../../../.gitbook/assets/스크린샷 2023-07-21 오후 2.08.04.png" alt=""><figcaption><p><br></p></figcaption></figure>

    <figure><img src="../../../../.gitbook/assets/스크린샷 2023-07-21 오후 2.18.51.png" alt=""><figcaption><p>API Key &#x26; Access Key &#x26; Secret Key 입력</p></figcaption></figure>



> **4. SMS 메시지 전송 (API 요청 테스트)**

*   `POST /services/{serviceId}/messages` 찾아 클릭한다.\


    <figure><img src="../../../../.gitbook/assets/스크린샷 2023-07-21 오후 2.36.50.png" alt=""><figcaption><p>'post /services/{serviceId}/messages' 클릭</p></figcaption></figure>



    <figure><img src="../../../../.gitbook/assets/스크린샷 2023-07-21 오후 2.46.21.png" alt=""><figcaption></figcaption></figure>


*   ServiceId에 자신의 `API Key`를 다시 입력한다.\


    <figure><img src="../../../../.gitbook/assets/스크린샷 2023-07-21 오후 3.10.49.png" alt=""><figcaption><p>ServiceId > API Key 입력</p></figcaption></figure>


*   Request 요청 메시지 작성\


    <figure><img src="../../../../.gitbook/assets/스크린샷 2023-07-21 오후 2.47.54.png" alt=""><figcaption><p>아래 JSON 요청 데이터를 수정하여 기입한다.</p></figcaption></figure>

    \
    **JSON 요청 데이터**

    <pre class="language-json"><code class="lang-json"><strong>{
    </strong>    "type":"SMS",
        "contentType":"COMM",
        "countryCode":"82",
        "from":"010212345678",
        "messages":[
            {
                "to":"01012345678", 
                "content":"[Transcendence] 인증번호:\n1234\n 인증번호를 입력해 주세요."
            }
        ]
    }
    </code></pre>

    \
    &#x20;**설명**&#x20;

    <table><thead><tr><th width="219.33333333333331">항목명</th><th>설명</th><th></th></tr></thead><tbody><tr><td>type</td><td>메시지 포맷 타입</td><td><code>SMS</code> : 80자 미만의 텍스트가 가능하다.<br><code>LMS</code> : 80자 이상의 텍스트가 가능하다.<br><code>MMS</code> : 파일 첨부가 가능하다.</td></tr><tr><td>contentType</td><td>메시지 구분</td><td><code>COMM</code> : 일반용<br><code>AD</code> : 광고용</td></tr><tr><td>from</td><td>발신 번호</td><td>ex) 01012345678</td></tr><tr><td>messages -> to</td><td>수신 번호</td><td>ex) 01012345678</td></tr><tr><td>messages -> content</td><td>보낼 메시지 내용</td><td>ex) [Transcendence] 인증번호:\n1234\n 인증번호를 입력해 주세요.</td></tr></tbody></table>



* 입력 후, `Execute`를 눌러 API를 호출한다.



> **5. SMS 메시지 확인**

*   API를 호출하면 아래와 같이 사이트에서 응답 결과(Response)를 확인할 수 있다. \


    <figure><img src="../../../../.gitbook/assets/스크린샷 2023-07-21 오후 3.21.04.png" alt=""><figcaption><p>'202' 상태코드, 정상적으로 요청이 처리됬음을 알 수 있다.<br><br></p></figcaption></figure>
*   휴대폰을 통해 문자메시지를 전송된 것을 확인할 수 있다.\


    <figure><img src="../../../../.gitbook/assets/스크린샷 2023-07-21 오후 3.31.34.png" alt="" width="188"><figcaption><p>전송 완료!  </p></figcaption></figure>



{% hint style="info" %}
**\[Web발신]**\
자동으로 문자 메시지에 추가된다.
{% endhint %}

{% hint style="info" %}
**자기 자신에게 전송하기**

발신 번호와 수신 번호를 동일하게 작성하여 자기 자신에게도 메시지를 전송할 수 있다.&#x20;
{% endhint %}
